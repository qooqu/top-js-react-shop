{"version":3,"sources":["Nav.js","Home.js","Item.js","Shop.js","ItemDetail.js","Cart.js","Checkout.js","App.js","index.js"],"names":["Nav","props","to","id","cartCount","Home","Item","imgURI","item","image_uris","small","price","prices","eur","className","src","alt","name","Shop","useState","items","setItems","useEffect","loadItems","a","localStorage","magicShopCards","JSON","parse","fetchItems","newItems","i","fetch","dataRAW","json","push","setItem","stringify","onClick","map","withRouter","quantity","setQuantity","fetchItem","match","params","normal","onSubmit","event","preventDefault","putInCart","type","value","onChange","target","Cart","cart","emptyCart","title","Number","toFixed","total","forEach","App","setCart","magicShopCart","newCart","newItem","basename","count","length","parseInt","path","exact","component","render","Checkout","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5aad30dd.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Nav = (props) => {\n    return (\n        <nav>\n            <Link to=\"/\">\n                <h1>Magic Shop</h1>\n            </Link>\n            <ul id=\"nav-links\">\n                <Link to=\"/shop\">\n                    <li>Shop</li>\n                </Link>\n                <Link to=\"/cart\">\n                    <li>{`Cart: ${props.cartCount}`}</li>\n                </Link>\n            </ul>\n        </nav>\n    );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Home = () => {\n    return (\n        <div>\n            <h1>What's up people</h1>\n            <p>\n                You should buy some stuff from the <Link to=\"/shop\">Shop</Link>\n            </p>\n        </div>\n    );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Item = (props) => {\n    const imgURI = props.item.image_uris ? props.item.image_uris.small : null;\n    const price = props.item.prices.eur;\n    return (\n        <Link to={`/shop/${props.item.id}`}>\n            <div className=\"card\">\n                {imgURI ? (\n                    <img src={imgURI} alt=\"\" />\n                ) : (\n                    <div className=\"no-image\">no image available :(</div>\n                )}\n                <div>{props.item.name}</div>\n                <div>€{price ? price : \" unknown\"}</div>\n            </div>\n        </Link>\n    );\n};\n\nexport default Item;\n","import React, { useState, useEffect } from \"react\";\nimport Item from \"./Item\";\n\nconst Shop = () => {\n    const [items, setItems] = useState([]);\n\n    useEffect(() => {\n        loadItems();\n    }, []);\n\n    const loadItems = async () => {\n        if (localStorage.magicShopCards) {\n            setItems(JSON.parse(localStorage.magicShopCards));\n        } else {\n            fetchItems();\n        }\n    };\n\n    const fetchItems = async () => {\n        let newItems = [];\n        for (let i = 1; i < 10; i++) {\n            const dataRAW = await fetch(\n                \"https://api.scryfall.com/cards/random\"\n            );\n            const item = await dataRAW.json();\n            newItems.push(item);\n            // console.log(item.id);\n        }\n        localStorage.setItem(\"magicShopCards\", JSON.stringify(newItems));\n        setItems(newItems);\n    };\n\n    return (\n        <div>\n            <div id=\"shop-top\">\n                <h1>Buy this stuff</h1>\n                <button onClick={fetchItems}>get some new cards</button>\n            </div>\n            <div id=\"cards\">\n                {items.map((item) => (\n                    <Item key={item.id} item={item} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nconst ItemDetail = (props) => {\n    const [item, setItem] = useState({\n        image_uris: {},\n        prices: {},\n    });\n\n    const [quantity, setQuantity] = useState(1);\n\n    useEffect(() => {\n        fetchItem();\n    }, []);\n\n    const fetchItem = async () => {\n        const { id } = props.match.params;\n        const dataRAW = await fetch(`https://api.scryfall.com/cards/${id}`);\n        const item = await dataRAW.json();\n        // console.log(item);\n        setItem(item);\n    };\n\n    const handleChange = (event) => {\n        event.preventDefault();\n        if (event.target.value >= 1) {\n            setQuantity(event.target.value);\n        }\n    };\n\n    const price = item.prices.eur;\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        if (price) {\n            props.putInCart(item.id, quantity, item.name, item.prices.eur);\n        }\n    };\n\n    return (\n        <div className=\"detail-outer\">\n            {<img src={item.image_uris.normal} alt=\"\" />}\n            <div className=\"detail-inner\">\n                <form onSubmit={handleSubmit}>\n                    <input\n                        // className={props.editActive ? \"editActive\" : null}\n                        type=\"number\"\n                        // placeholder=\"info please\"\n                        value={quantity}\n                        // readOnly={!props.editActive}\n                        onChange={handleChange}\n                    />\n                    <button type=\"submit\">BUY IT</button>\n                </form>\n                <div>{price ? `€${price} each` : \" out of stock :(\"}</div>\n                <div>Coolest card ever</div>\n                <div>EXC+++</div>\n            </div>\n        </div>\n    );\n};\n\nexport default withRouter(ItemDetail);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Cart = (props) => {\n    let items = props.cart;\n\n    const total = () => {\n        let total = 0;\n        props.cart.forEach((item) => {\n            total = total + item.quantity * item.price;\n        });\n        return Number(total).toFixed(2);\n    };\n\n    return (\n        <div>\n            <div id=\"cart-top\">\n                <h1>Cart</h1>\n                <button onClick={props.emptyCart}>empty cart</button>\n            </div>\n            <ul id=\"cart-items\">\n                {items.map((item) => (\n                    <li key={item.id}>{`${item.quantity} ${item.title} @ €${\n                        item.price\n                    } = €${Number(item.quantity * item.price).toFixed(2)}`}</li>\n                ))}\n            </ul>\n            <h2>Total: €{total()}</h2>\n            <Link to=\"/checkout\">\n                <button>check out</button>\n            </Link>\n        </div>\n    );\n};\n\nexport default Cart;\n","import React from \"react\";\n\nconst Home = () => {\n    return (\n        <div>\n            <h1>Checkout</h1>\n            <p>Coming soon (aka never)</p>\n        </div>\n    );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Nav from \"./Nav\";\nimport Home from \"./Home\";\nimport Shop from \"./Shop\";\nimport ItemDetail from \"./ItemDetail\";\nimport Cart from \"./Cart\";\nimport Checkout from \"./Checkout\";\n\nconst App = () => {\n    const [cart, setCart] = useState([]);\n\n    useEffect(() => {\n        if (localStorage.magicShopCart) {\n            setCart(JSON.parse(localStorage.magicShopCart));\n        }\n    }, []);\n\n    const cartCount = () => {\n        let count = 0;\n        if (cart.length) {\n            cart.forEach((item) => {\n                count = count + parseInt(item.quantity);\n            });\n        }\n        return count;\n    };\n\n    const putInCart = (id, quantity, title, price) => {\n        let newCart = [...cart];\n        const newItem = {\n            id,\n            quantity,\n            title,\n            price,\n        };\n        newCart.push(newItem);\n        setCart(newCart);\n        localStorage.setItem(\"magicShopCart\", JSON.stringify(cart));\n    };\n\n    const emptyCart = () => {\n        setCart([]);\n        localStorage.setItem(\"magicShopCart\", JSON.stringify(cart));\n    };\n\n    return (\n        <Router basename=\"/top-js-react-shop\">\n            <div id=\"container\">\n                <Nav cartCount={cartCount()} />\n                <Switch>\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/shop\" exact component={Shop} />\n                    <Route\n                        path=\"/shop/:id\"\n                        render={(props) => <ItemDetail putInCart={putInCart} />}\n                    />\n                    <Route\n                        path=\"/cart\"\n                        exact\n                        render={(props) => (\n                            <Cart cart={cart} emptyCart={emptyCart} />\n                        )}\n                    />\n                    <Route path=\"/checkout\" exact component={Checkout} />\n                </Switch>\n            </div>\n        </Router>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}