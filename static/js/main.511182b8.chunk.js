(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c(1),a=c.n(r),s=c(19),i=c.n(s),o=c(21),j=c(9),u=c(4),h=c(2),p=function(t){return Object(n.jsxs)("nav",{children:[Object(n.jsx)(u.b,{to:"/top-js-react-shop/",children:Object(n.jsx)("h1",{children:"Magic Shop"})}),Object(n.jsxs)("ul",{id:"nav-links",children:[Object(n.jsx)(u.b,{to:"/top-js-react-shop/shop",children:Object(n.jsx)("li",{children:"Shop"})}),Object(n.jsx)(u.b,{to:"/top-js-react-shop/cart",children:Object(n.jsx)("li",{children:"Cart: ".concat(t.cartCount)})})]})]})},l=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"What's up people"}),Object(n.jsxs)("p",{children:["You should buy some stuff from the"," ",Object(n.jsx)(u.b,{to:"/top-js-react-shop/shop",children:"Shop"})]})]})},d=c(8),b=c.n(d),O=c(13),x=function(t){var e=t.item.image_uris?t.item.image_uris.small:null,c=t.item.prices.eur;return Object(n.jsx)(u.b,{to:"/top-js-react-shop"+"/shop/".concat(t.item.id),children:Object(n.jsxs)("div",{className:"card",children:[e?Object(n.jsx)("img",{src:e,alt:""}):Object(n.jsx)("div",{className:"no-image",children:"no image available :("}),Object(n.jsx)("div",{children:t.item.name}),Object(n.jsxs)("div",{children:["\u20ac",c||" unknown"]})]})})},f=function(){var t=Object(r.useState)([]),e=Object(j.a)(t,2),c=e[0],a=e[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){var t=Object(O.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.magicShopCards?a(JSON.parse(localStorage.magicShopCards)):i();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(O.a)(b.a.mark((function t(){var e,c,n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],c=1;case 2:if(!(c<10)){t.next=13;break}return t.next=5,fetch("https://api.scryfall.com/cards/random");case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,e.push(r);case 10:c++,t.next=2;break;case 13:localStorage.setItem("magicShopCards",JSON.stringify(e)),a(e);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{id:"shop-top",children:[Object(n.jsx)("h1",{children:"Buy this stuff"}),Object(n.jsx)("button",{onClick:i,children:"get some new cards"})]}),Object(n.jsx)("div",{id:"cards",children:c.map((function(t){return Object(n.jsx)(x,{item:t},t.id)}))})]})},m=Object(h.f)((function(t){var e=Object(r.useState)({image_uris:{},prices:{}}),c=Object(j.a)(e,2),a=c[0],s=c[1],i=Object(r.useState)(1),o=Object(j.a)(i,2),u=o[0],h=o[1];Object(r.useEffect)((function(){p()}),[]);var p=function(){var e=Object(O.a)(b.a.mark((function e(){var c,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.match.params.id,e.next=3,fetch("https://api.scryfall.com/cards/".concat(c));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,s(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=a.prices.eur;return Object(n.jsxs)("div",{className:"detail-outer",children:[Object(n.jsx)("img",{src:a.image_uris.normal,alt:""}),Object(n.jsxs)("div",{className:"detail-inner",children:[Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l&&t.putInCart(a.id,u,a.name,a.prices.eur)},children:[Object(n.jsx)("input",{type:"number",value:u,onChange:function(t){t.preventDefault(),t.target.value>=1&&h(t.target.value)}}),Object(n.jsx)("button",{type:"submit",children:"BUY IT"})]}),Object(n.jsx)("div",{children:l?"\u20ac".concat(l," each"):" out of stock :("}),Object(n.jsx)("div",{children:"Coolest card ever"}),Object(n.jsx)("div",{children:"EXC+++"})]})]})})),v=function(t){var e=t.cart;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{id:"cart-top",children:[Object(n.jsx)("h1",{children:"Cart"}),Object(n.jsx)("button",{onClick:t.emptyCart,children:"empty cart"})]}),Object(n.jsx)("ul",{id:"cart-items",children:e.map((function(t){return Object(n.jsx)("li",{children:"".concat(t.quantity," ").concat(t.title," @ \u20ac").concat(t.price," = \u20ac").concat(Number(t.quantity*t.price).toFixed(2))},t.id)}))}),Object(n.jsxs)("h2",{children:["Total: \u20ac",function(){var e=0;return t.cart.forEach((function(t){e+=t.quantity*t.price})),Number(e).toFixed(2)}()]}),Object(n.jsx)(u.b,{to:"/top-js-react-shop/checkout",children:Object(n.jsx)("button",{children:"check out"})})]})},g=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Checkout"}),Object(n.jsx)("p",{children:"Coming soon (aka never)"})]})},S=function(){var t=Object(r.useState)([]),e=Object(j.a)(t,2),c=e[0],a=e[1];Object(r.useEffect)((function(){localStorage.magicShopCart&&a(JSON.parse(localStorage.magicShopCart))}),[]);var s=function(t,e,n,r){var s=Object(o.a)(c),i={id:t,quantity:e,title:n,price:r};s.push(i),a(s),localStorage.setItem("magicShopCart",JSON.stringify(c))},i=function(){a([]),localStorage.setItem("magicShopCart",JSON.stringify(c))};return Object(n.jsx)(u.a,{children:Object(n.jsxs)("div",{id:"container",children:[Object(n.jsx)(p,{cartCount:function(){var t=0;return c.length&&c.forEach((function(e){t+=parseInt(e.quantity)})),t}()}),Object(n.jsxs)(h.c,{children:[Object(n.jsx)(h.a,{path:"/top-js-react-shop/",exact:!0,component:l}),Object(n.jsx)(h.a,{path:"/top-js-react-shop/shop",exact:!0,component:f}),Object(n.jsx)(h.a,{path:"/top-js-react-shop/shop/:id",render:function(t){return Object(n.jsx)(m,{putInCart:s})}}),Object(n.jsx)(h.a,{path:"/top-js-react-shop/cart",exact:!0,render:function(t){return Object(n.jsx)(v,{cart:c,emptyCart:i})}}),Object(n.jsx)(h.a,{path:"/top-js-react-shop/checkout",exact:!0,component:g})]})]})})};c(36);i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.511182b8.chunk.js.map